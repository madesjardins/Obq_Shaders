<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
<title>Obq Arnold Shaders-Obq_Shadow</title>
<meta http-equiv="Content-Language" content="en-us" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="MSSmartTagsPreventParsing" content="true" />
<meta name="description" content="Obq_Shaders for Arnold" />
<meta name="keywords" content="Obq_Shaders" />
<meta name="author" content="Marc-Antoine Desjardins - Oblique FX" />
<style type="text/css" media="all">@import "../css/master.css";</style>
</head>
<body>
<div id="page-container">
<div id="banner"><img src="../images/banner.jpg" alt="Banner"></div>
<div id="topMenu">
<div id="topMenu-left">
<a href="http://www.obliquefx.com"><img src="../images/oblique.png" alt="Oblique Logo" width = "150px"></a></div>
<div id="topMenu-right"><table border="0" cellpadding="9" cellspacing="0"><tr>
<td width="50"> </td>
<td><a href="../index.html">Home</a></td>
<td>|</td>
<td><a href="../news.html">News</a></td>
<td>|</td>
<td><a href="../documentation.html">Documentation</a></td>
<td>|</td>
<td><a href="../downloads.html">Downloads</a></td>
<td>|</td>
<td><a href="../about.html">About</a></td>
<td width="50"> </td>
</tr></table>
</div>
</div>
<div id="content">
<div id="content-sidebar">
<p align="left">Node Reference</p>
<table border="0" cellpadding ="2" cellspacing ="0">
<tr><td width="2"></td><td><a href="Obq_AngularCamera.html">Obq_AngularCamera</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Atmosphere.html">Obq_Atmosphere</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Bend4Stereo.html">Obq_Bend4Stereo</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_CameraProjectionSpace.html">Obq_CameraProjectionSpace</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_ChangeRange.html">Obq_ChangeRange</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Color.html">Obq_Color</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_ColorspaceConverter.html">Obq_ColorspaceConverter</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Environment.html">Obq_Environment</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Etching.html">Obq_Etching</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Fresnel.html">Obq_Fresnel</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Fresnel2Standards.html">Obq_Fresnel2Standards</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Hair.html">Obq_Hair</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_IESLightFilter.html">Obq_IESLightFilter</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_LensDistortion.html">Obq_LensDistortion</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_MeasuredMaterial.html">Obq_MeasuredMaterial</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_MessageGetFlt.html">Obq_MessageGetFlt</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_MessageSetFlt.html">Obq_MessageSetFlt</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_MessageStoreFlt.html">Obq_MessageStoreFlt</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Opacity.html">Obq_Opacity</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_RandomColor.html">Obq_RandomColor</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_RandomID.html">Obq_RandomID</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_RayDepth.html">Obq_RayDepth</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_RGBComEmit.html">Obq_RGBComEmit</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_RGBComLightFilter.html">Obq_RGBComLightFilter</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Root2Tip.html">Obq_Root2Tip</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_SetAlpha.html">Obq_SetAlpha</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Shadow.html">Obq_Shadow</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Simbiont.html">Obq_Simbiont</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_SpectrumColor.html">Obq_SpectrumColor</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_StereoLens.html">Obq_StereoLens</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_SurfaceEnvironment.html">Obq_SurfaceEnvironment</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Thickness.html">Obq_Thickness</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_Toon.html">Obq_Toon</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_ToonSimple.html">Obq_ToonSimple</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_TransformShadingPoint.html">Obq_TransformShadingPoint</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_TransformUV.html">Obq_TransformUV</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_UVRemapLensDistortion.html">Obq_UVRemapLensDistortion</a></td></tr>
<tr><td width="2"></td><td><a href="Obq_VolumeThickness.html">Obq_VolumeThickness</a></td></tr>
</table>
</div>
<div id="content-help"><br>
<h2>Obq_Shadow</h2>
<br>
<h5>Class</h5>
<p>Material</p>
<br>
<h5>Output</h5>
<p>Color RGB</p>
<br>
<h5>Synopsis</h5>
<p>A shadow catcher shader capable of generating the colored shadows of image based lighting. Ideal for CG integration in live action, a few options are there to specify which objects were already casting shadows in the plate.</p>
<br>
<img src="images/Obq_Shadow_01.jpg" alt="Synopsis image" width=732 >
<p class="idesc">Fig.1 : In this example, a CG T-Rex is added to a live action scene in which a perforated box was resting a table. Additionnal shadows of the T-Rex are needed on both the box and the table, but one must be careful not the add shadows of the T-Rex where the box stops the light from hitting the T-Rex. From left to right : the scene, shadows of the T-Rex when lit with a downward distant light in ratio mode, shadows of the T-Rex when lit with an HDR plugged into a skydome in "Shadow Ratio" mode and then in "Shadow Difference" mode.</p>
<br>
<h5>Usage</h5>
<p>A new pass should be created for this:</p>
<ul>
<li>First, create a partition with all the CG objects (T-Rex) and another one with all the objects that were in the plate ( box and table in this example).</li>
<li>On both partitions, add an Arnold_Parameters property (and/or override) and <b>uncheck the opaque parameter</b>.</li>
<li>Then, on the CG partition, use an override to disable "Primary Ray Visibility".</li>
<li>On both partitions, you need to override the surface port of the materials with Obq_Shadow nodes. The one on the CG partition must have its "Trace Type" set to "Caster" and the one on the plate objects must be set to "Receiver". Use either the "Shadow Ratio" mode to multiply the plate or the "Shadow Difference" mode as mask in a grade node in Nuke.</li>
</ul>
<br>
<img src="images/Obq_Shadow_02.jpg" alt="Synopsis image"  >
<br>
<hr/>
<br>
<br>
<h5>Mode <em>[mode]</em></h5>
<p>The different modes for the shader output.</p>
<table borders="0" cellpadding=0 cellspacing=0 width=700>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="130"><span class="enumElem">Diffuse Shadowed</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">Objects are shaded with a simple diffuse shader with shadows.</td></tr>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="130"><span class="enumElem">Diffuse Unshadowed</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">Objects are shaded with a simple diffuse shader without shadows.</td></tr>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="130"><span class="enumElem">Shadow Ratio</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">The ratio between the shadowed and unshadowed shading. Multiply your plate with the result.</td></tr>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="130"><span class="enumElem">Shadow Difference</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">The difference between the shadowed and unshadowed shading. Use as mask in a grade node and offset negatively.</td></tr>
</table>
<br>
<h5>Trace Type <em>[traceType]</em></h5>
<p>Determine whether the object should receive and/or cast shadows.</p>
<table borders="0" cellpadding=0 cellspacing=0 width=700>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="130"><span class="enumElem">Receiver</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">This object only receives shadows. Settings for objects in the plate.</td></tr>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="130"><span class="enumElem">Caster</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">This object only casts shadows. Settings for CG objects not in the plate. Usually, you want to have this object invisible to camera rays.</td></tr>
<tr><td width=15> </td><td width=20 valign="top" align="center">&bull;</td><td valign="top" align="left" width="130"><span class="enumElem">Caster and Receiver</span></td><td valign="top" align="center" width = 10>:</td><td valign="top" align="justify">This object casts and receives shadows. Not very useful, but who knows...</td></tr>
</table>
<br>
<h5>Opacity <em>[opacity]</em></h5>
<p>Additionnal settings for opacity.</p>
<br>
<h5>Shadows on unlit faces <em>[shadowsOnUnlit]</em></h5>
<p>Treats unlit polygons as shadowed. For example, the lower hemisphere of a sphere lit from above will be considered as shadowed.</p>
</div>
</div>
<div id="footer">Copyright &copy; 2011-2014, ObliqueFX. All Rights Reserved. </div>
</div>
</body>
</html>
